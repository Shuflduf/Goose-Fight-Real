[gd_scene load_steps=41 format=3 uid="uid://difolhje4qshv"]

[ext_resource type="Script" uid="uid://7s2avvmicf4j" path="res://Player/player.gd" id="1_onrkg"]
[ext_resource type="Script" uid="uid://dej8xkwj66gk1" path="res://Player/vertical_movement.gd" id="3_i3pqv"]
[ext_resource type="Script" uid="uid://cummtyr5lavnp" path="res://Player/horizontal_movement.gd" id="4_hqtel"]
[ext_resource type="Script" uid="uid://6wrg0orn1l5y" path="res://Player/anim_handler.gd" id="5_2hs0m"]
[ext_resource type="Texture2D" uid="uid://dqcy7s6ohdqad" path="res://Sprites/goose-Sheet.png" id="5_sweqy"]
[ext_resource type="Script" uid="uid://c64eyy0lkex7j" path="res://Player/wall_jump.gd" id="6_2hs0m"]
[ext_resource type="Script" uid="uid://b77con38nd63l" path="res://Player/attack_handler.gd" id="7_b26j0"]
[ext_resource type="Script" uid="uid://cvqrmse7gdai4" path="res://Attacks/attack_info.gd" id="8_n7ghd"]
[ext_resource type="PackedScene" uid="uid://dwct0b3fqkr6c" path="res://Attacks/attack_jab.tscn" id="9_nvl01"]
[ext_resource type="PackedScene" uid="uid://dlfd1q2hltgte" path="res://Attacks/attack_f_tilt.tscn" id="10_apopc"]
[ext_resource type="PackedScene" uid="uid://cpojwfmekdy3y" path="res://Attacks/attack_u_tilt.tscn" id="11_5htga"]
[ext_resource type="Script" uid="uid://euqlrk38ot1c" path="res://Player/input_handler.gd" id="11_apopc"]
[ext_resource type="PackedScene" uid="uid://kasw83peblv5" path="res://Attacks/attack_d_tilt.tscn" id="12_p5o4e"]
[ext_resource type="Script" uid="uid://5bumq6m7sqfd" path="res://Player/crouch.gd" id="14_gu6f8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fj7yv"]
size = Vector2(48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_x3vf3"]
atlas = ExtResource("5_sweqy")
region = Rect2(136, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_qemgg"]
atlas = ExtResource("5_sweqy")
region = Rect2(510, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_8viyr"]
atlas = ExtResource("5_sweqy")
region = Rect2(544, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_7emwf"]
atlas = ExtResource("5_sweqy")
region = Rect2(340, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_hshwv"]
atlas = ExtResource("5_sweqy")
region = Rect2(374, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_apopc"]
atlas = ExtResource("5_sweqy")
region = Rect2(408, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_76lrf"]
atlas = ExtResource("5_sweqy")
region = Rect2(612, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_efx54"]
atlas = ExtResource("5_sweqy")
region = Rect2(646, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_gpjlu"]
atlas = ExtResource("5_sweqy")
region = Rect2(442, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_8mwp6"]
atlas = ExtResource("5_sweqy")
region = Rect2(476, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_sm0op"]
atlas = ExtResource("5_sweqy")
region = Rect2(578, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_gu6f8"]
atlas = ExtResource("5_sweqy")
region = Rect2(306, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_5htga"]
atlas = ExtResource("5_sweqy")
region = Rect2(0, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_p5o4e"]
atlas = ExtResource("5_sweqy")
region = Rect2(34, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_lfmf2"]
atlas = ExtResource("5_sweqy")
region = Rect2(102, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_dkpta"]
atlas = ExtResource("5_sweqy")
region = Rect2(68, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_pisgm"]
atlas = ExtResource("5_sweqy")
region = Rect2(238, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_b1ygp"]
atlas = ExtResource("5_sweqy")
region = Rect2(272, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_o28un"]
atlas = ExtResource("5_sweqy")
region = Rect2(170, 0, 34, 28)

[sub_resource type="AtlasTexture" id="AtlasTexture_n471f"]
atlas = ExtResource("5_sweqy")
region = Rect2(204, 0, 34, 28)

[sub_resource type="SpriteFrames" id="SpriteFrames_dw050"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_x3vf3")
}],
"loop": true,
"name": &"air",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_qemgg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8viyr")
}],
"loop": false,
"name": &"attack_dtilt",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_7emwf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hshwv")
}],
"loop": false,
"name": &"attack_ftilt",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_apopc")
}],
"loop": false,
"name": &"attack_jab",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_76lrf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_efx54")
}],
"loop": false,
"name": &"attack_nspec",
"speed": 4.0
}, {
"frames": [{
"duration": 0.5,
"texture": SubResource("AtlasTexture_gpjlu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8mwp6")
}],
"loop": false,
"name": &"attack_utilt",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_sm0op")
}],
"loop": true,
"name": &"crouch",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_gu6f8")
}],
"loop": false,
"name": &"flip",
"speed": 24.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5htga")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_p5o4e")
}],
"loop": true,
"name": &"idle",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_lfmf2")
}],
"loop": false,
"name": &"jump",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dkpta")
}],
"loop": false,
"name": &"jump_queue",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_pisgm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b1ygp")
}],
"loop": true,
"name": &"run",
"speed": 4.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o28un")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n471f")
}],
"loop": true,
"name": &"walk",
"speed": 4.0
}]

[sub_resource type="Resource" id="Resource_ivps1"]
script = ExtResource("8_n7ghd")
scene = ExtResource("9_nvl01")
bind = 0
metadata/_custom_type_script = "uid://cvqrmse7gdai4"

[sub_resource type="Resource" id="Resource_5htga"]
script = ExtResource("8_n7ghd")
scene = ExtResource("10_apopc")
bind = 1
metadata/_custom_type_script = "uid://cvqrmse7gdai4"

[sub_resource type="Resource" id="Resource_p5o4e"]
script = ExtResource("8_n7ghd")
scene = ExtResource("11_5htga")
bind = 2
metadata/_custom_type_script = "uid://cvqrmse7gdai4"

[sub_resource type="Resource" id="Resource_gu6f8"]
script = ExtResource("8_n7ghd")
scene = ExtResource("12_p5o4e")
bind = 3
metadata/_custom_type_script = "uid://cvqrmse7gdai4"

[node name="Player" type="CharacterBody2D"]
z_index = 2
collision_layer = 4
collision_mask = 3
script = ExtResource("1_onrkg")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_fj7yv")

[node name="VerticalMovement" type="Node" parent="." node_paths=PackedStringArray("h_movement")]
script = ExtResource("3_i3pqv")
h_movement = NodePath("../HorizontalMovement")
metadata/_custom_type_script = "uid://b1hxng224wd66"

[node name="HorizontalMovement" type="Node" parent="." node_paths=PackedStringArray("sprites")]
script = ExtResource("4_hqtel")
sprites = NodePath("../Sprites")
metadata/_custom_type_script = "uid://b1hxng224wd66"

[node name="Sprites" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -28)
scale = Vector2(4, 4)
sprite_frames = SubResource("SpriteFrames_dw050")
animation = &"attack_nspec"
autoplay = "idle"
frame = 1
frame_progress = 1.0

[node name="AnimHandler" type="Node" parent="." node_paths=PackedStringArray("sprites")]
script = ExtResource("5_2hs0m")
sprites = NodePath("../Sprites")
metadata/_custom_type_script = "uid://b1hxng224wd66"

[node name="WallJump" type="Node" parent="."]
script = ExtResource("6_2hs0m")
metadata/_custom_type_script = "uid://b1hxng224wd66"

[node name="Attacks" type="Node2D" parent="." node_paths=PackedStringArray("sprites")]
script = ExtResource("7_b26j0")
attacks = Array[ExtResource("8_n7ghd")]([SubResource("Resource_ivps1"), SubResource("Resource_5htga"), SubResource("Resource_p5o4e"), SubResource("Resource_gu6f8")])
sprites = NodePath("../Sprites")

[node name="Jab" parent="Attacks" instance=ExtResource("9_nvl01")]

[node name="FTilt" parent="Attacks" instance=ExtResource("10_apopc")]

[node name="UTilt" parent="Attacks" instance=ExtResource("11_5htga")]

[node name="DTilt" parent="Attacks" instance=ExtResource("12_p5o4e")]

[node name="InputHandler" type="Node" parent="."]
script = ExtResource("11_apopc")
metadata/_custom_type_script = "uid://b1hxng224wd66"

[node name="Crouch" type="Node" parent="."]
script = ExtResource("14_gu6f8")
metadata/_custom_type_script = "uid://b1hxng224wd66"

[connection signal="jump_queued" from="VerticalMovement" to="AnimHandler" method="_on_vertical_movement_jump_queued"]
[connection signal="jumped" from="VerticalMovement" to="AnimHandler" method="_on_vertical_movement_jumped"]
[connection signal="didnt_move" from="HorizontalMovement" to="AnimHandler" method="_on_horizontal_movement_didnt_move"]
[connection signal="flip" from="HorizontalMovement" to="AnimHandler" method="_on_horizontal_movement_flip"]
[connection signal="flip" from="HorizontalMovement" to="Attacks" method="_on_horizontal_movement_flip"]
[connection signal="moved" from="HorizontalMovement" to="AnimHandler" method="_on_horizontal_movement_moved"]
[connection signal="animation_finished" from="Sprites" to="AnimHandler" method="_on_sprites_animation_finished"]
[connection signal="animation_finished" from="Sprites" to="Attacks" method="_on_sprites_animation_finished"]
[connection signal="attack_started" from="Attacks" to="AnimHandler" method="_on_attacks_attack_started"]
[connection signal="crouched" from="Crouch" to="AnimHandler" method="_on_crouch_crouched"]
